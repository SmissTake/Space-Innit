import{m as T,t as U,z as X,b as F}from"./VBtn-b8e30933.js";import{l as S,a0 as Y,a1 as N,a2 as w,a3 as Z,a4 as P,p as z,m as u,d as x,B as W,a5 as j,s as _,r as ee,x as I,V as te,W as ne,K as C,L as se,Q as ae,M as ie}from"./index-397ca68d.js";function me(e){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",a=arguments.length>2?arguments[2]:void 0;return S()({name:a??Y(N(e.replace(/__/g,"-"))),props:{tag:{type:String,default:o},...T()},setup(n,c){let{slots:i}=c;return()=>{var t;return w(n.tag,{class:[e,n.class],style:n.style},(t=i.default)==null?void 0:t.call(i))}}})}const re=z({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function f(e,o,a){return S()({name:e,props:re({mode:a,origin:o}),setup(n,c){let{slots:i}=c;const t={onBeforeEnter(s){n.origin&&(s.style.transformOrigin=n.origin)},onLeave(s){if(n.leaveAbsolute){const{offsetTop:g,offsetLeft:l,offsetWidth:v,offsetHeight:m}=s;s._transitionInitialStyles={position:s.style.position,top:s.style.top,left:s.style.left,width:s.style.width,height:s.style.height},s.style.position="absolute",s.style.top=`${g}px`,s.style.left=`${l}px`,s.style.width=`${v}px`,s.style.height=`${m}px`}n.hideOnLeave&&s.style.setProperty("display","none","important")},onAfterLeave(s){if(n.leaveAbsolute&&(s!=null&&s._transitionInitialStyles)){const{position:g,top:l,left:v,width:m,height:h}=s._transitionInitialStyles;delete s._transitionInitialStyles,s.style.position=g||"",s.style.top=l||"",s.style.left=v||"",s.style.width=m||"",s.style.height=h||""}}};return()=>{const s=n.group?Z:P;return w(s,{name:n.disabled?"":e,css:!n.disabled,...n.group?void 0:{mode:n.mode},...n.disabled?{}:t},i.default)}}})}function k(e,o){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return S()({name:e,props:{mode:{type:String,default:a},disabled:Boolean},setup(n,c){let{slots:i}=c;return()=>w(P,{name:n.disabled?"":e,css:!n.disabled,...n.disabled?{}:o},i.default)}})}function H(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const a=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",n=N(`offset-${a}`);return{onBeforeEnter(t){t._parent=t.parentNode,t._initialStyle={transition:t.style.transition,overflow:t.style.overflow,[a]:t.style[a]}},onEnter(t){const s=t._initialStyle;t.style.setProperty("transition","none","important"),t.style.overflow="hidden";const g=`${t[n]}px`;t.style[a]="0",t.offsetHeight,t.style.transition=s.transition,e&&t._parent&&t._parent.classList.add(e),requestAnimationFrame(()=>{t.style[a]=g})},onAfterEnter:i,onEnterCancelled:i,onLeave(t){t._initialStyle={transition:"",overflow:t.style.overflow,[a]:t.style[a]},t.style.overflow="hidden",t.style[a]=`${t[n]}px`,t.offsetHeight,requestAnimationFrame(()=>t.style[a]="0")},onAfterLeave:c,onLeaveCancelled:c};function c(t){e&&t._parent&&t._parent.classList.remove(e),i(t)}function i(t){const s=t._initialStyle[a];t.style.overflow=t._initialStyle.overflow,s!=null&&(t.style[a]=s),delete t._initialStyle}}f("fab-transition","center center","out-in");f("dialog-bottom-transition");f("dialog-top-transition");f("fade-transition");f("scale-transition");f("scroll-x-transition");f("scroll-x-reverse-transition");f("scroll-y-transition");f("scroll-y-reverse-transition");f("slide-x-transition");f("slide-x-reverse-transition");const ye=f("slide-y-transition");f("slide-y-reverse-transition");const he=k("expand-transition",H()),_e=k("expand-x-transition",H("",!0));function oe(e){return{aspectStyles:x(()=>{const o=Number(e.aspectRatio);return o?{paddingBottom:String(1/o*100)+"%"}:void 0})}}const q=z({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...T(),...U()},"VResponsive"),O=S()({name:"VResponsive",props:q(),setup(e,o){let{slots:a}=o;const{aspectStyles:n}=oe(e),{dimensionStyles:c}=X(e);return F(()=>{var i;return u("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[c.value,e.style]},[u("div",{class:"v-responsive__sizer",style:n.value},null),(i=a.additional)==null?void 0:i.call(a),a.default&&u("div",{class:["v-responsive__content",e.contentClass]},[a.default()])])}),{}}}),le=z({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),p=(e,o)=>{let{slots:a}=o;const{transition:n,disabled:c,...i}=e,{component:t=P,...s}=typeof n=="object"?n:{};return w(t,W(typeof n=="string"?{name:c?"":n}:s,i,{disabled:c}),a)};function ue(e,o){if(!j)return;const a=o.modifiers||{},n=o.value,{handler:c,options:i}=typeof n=="object"?n:{handler:n,options:{}},t=new IntersectionObserver(function(){var m;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=arguments.length>1?arguments[1]:void 0;const l=(m=e._observe)==null?void 0:m[o.instance.$.uid];if(!l)return;const v=s.some(h=>h.isIntersecting);c&&(!a.quiet||l.init)&&(!a.once||v||l.init)&&c(v,s,g),v&&a.once?M(e,o):l.init=!0},i);e._observe=Object(e._observe),e._observe[o.instance.$.uid]={init:!1,observer:t},t.observe(e)}function M(e,o){var n;const a=(n=e._observe)==null?void 0:n[o.instance.$.uid];a&&(a.observer.unobserve(e),delete e._observe[o.instance.$.uid])}const ce={mounted:ue,unmounted:M},de=ce,ve=z({alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,...q(),...T(),...le()},"VImg"),Se=S()({name:"VImg",directives:{intersect:de},props:ve(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,o){let{emit:a,slots:n}=o;const c=_(""),i=ee(),t=_(e.eager?"loading":"idle"),s=_(),g=_(),l=x(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),v=x(()=>l.value.aspect||s.value/g.value||0);I(()=>e.src,()=>{m(t.value!=="idle")}),I(v,(r,d)=>{!r&&d&&i.value&&b(i.value)}),te(()=>m());function m(r){if(!(e.eager&&r)&&!(j&&!r&&!e.eager)){if(t.value="loading",l.value.lazySrc){const d=new Image;d.src=l.value.lazySrc,b(d,null)}l.value.src&&ne(()=>{var d,y;if(a("loadstart",((d=i.value)==null?void 0:d.currentSrc)||l.value.src),(y=i.value)!=null&&y.complete){if(i.value.naturalWidth||V(),t.value==="error")return;v.value||b(i.value,null),h()}else v.value||b(i.value),$()})}}function h(){var r;$(),t.value="loaded",a("load",((r=i.value)==null?void 0:r.currentSrc)||l.value.src)}function V(){var r;t.value="error",a("error",((r=i.value)==null?void 0:r.currentSrc)||l.value.src)}function $(){const r=i.value;r&&(c.value=r.currentSrc||r.src)}let B=-1;function b(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const y=()=>{clearTimeout(B);const{naturalHeight:E,naturalWidth:A}=r;E||A?(s.value=A,g.value=E):!r.complete&&t.value==="loading"&&d!=null?B=window.setTimeout(y,d):(r.currentSrc.endsWith(".svg")||r.currentSrc.startsWith("data:image/svg+xml"))&&(s.value=1,g.value=1)};y()}const R=x(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),D=()=>{var y;if(!l.value.src||t.value==="idle")return null;const r=u("img",{class:["v-img__img",R.value],src:l.value.src,srcset:l.value.srcset,alt:e.alt,sizes:e.sizes,ref:i,onLoad:h,onError:V},null),d=(y=n.sources)==null?void 0:y.call(n);return u(p,{transition:e.transition,appear:!0},{default:()=>[C(d?u("picture",{class:"v-img__picture"},[d,r]):r,[[ie,t.value==="loaded"]])]})},G=()=>u(p,{transition:e.transition},{default:()=>[l.value.lazySrc&&t.value!=="loaded"&&u("img",{class:["v-img__img","v-img__img--preload",R.value],src:l.value.lazySrc,alt:e.alt},null)]}),J=()=>n.placeholder?u(p,{transition:e.transition,appear:!0},{default:()=>[(t.value==="loading"||t.value==="error"&&!n.error)&&u("div",{class:"v-img__placeholder"},[n.placeholder()])]}):null,K=()=>n.error?u(p,{transition:e.transition,appear:!0},{default:()=>[t.value==="error"&&u("div",{class:"v-img__error"},[n.error()])]}):null,Q=()=>e.gradient?u("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,L=_(!1);{const r=I(v,d=>{d&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{L.value=!0})}),r())})}return F(()=>{const[r]=O.filterProps(e);return C(u(O,W({class:["v-img",{"v-img--booting":!L.value},e.class],style:e.style},r,{aspectRatio:v.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>u(ae,null,[u(D,null,null),u(G,null,null),u(Q,null,null),u(J,null,null),u(K,null,null)]),default:n.default}),[[se("intersect"),{handler:m,options:e.options},null,{once:!0}]])}),{currentSrc:c,image:i,state:t,naturalWidth:s,naturalHeight:g}}});export{de as I,p as M,Se as V,he as a,ye as b,me as c,_e as d,le as m};
